(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1420:function(e,t,n){"use strict";n.r(t);n(8);var r=n(3),o={name:"All",data:function(){return{loading:!0,attemps:null,count:null,page:1}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reloadTasks(e.page);case 2:return t.next=4,e.countAttemps();case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},methods:{reloadTask:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.row,n.next=3,t.$axios.post("https://server-now.moiplansh028.now.sh/api/admin/programming/reloadAttemp",{attemp:r._id});case 3:t.reloadTasks();case 4:case"end":return n.stop()}}),n)})))()},reloadTasks:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("https://server-now.moiplansh028.now.sh/api/admin/programming/loadProgrammingAttemps",{page:e.page});case 2:(n=t.sent).data.attemps&&(e.attemps=n.data.attemps);case 4:case"end":return t.stop()}}),t)})))()},deleteAttemp:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.row,n.next=3,t.$axios.post("https://server-now.moiplansh028.now.sh/api/admin/programming/deleteAttemp",{attemp:r._id});case 3:n.sent,t.reloadTasks();case 5:case"end":return n.stop()}}),n)})))()},countAttemps:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("https://server-now.moiplansh028.now.sh/api/admin/programming/countAttemps");case 2:(n=t.sent).data.count&&(e.count=n.data.count);case 4:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.page=e,this.reloadTasks(e)}}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?e._e():n("el-button",{attrs:{type:"info"},on:{click:e.reloadTasks}},[e._v("\n    Перезагрузить\n  ")]),e._v(" "),e.attemps&&!e.loading?n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.attemps,"default-sort":{prop:"_id",order:"descending"}}},[n("el-table-column",{attrs:{prop:"_id",label:"ID"}}),e._v(" "),n("el-table-column",{attrs:{prop:"type",label:"Type"}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:"status"}}),e._v(" "),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{circle:"",icon:"el-icon-refresh"},on:{click:function(n){return e.reloadTask(t)}}}),e._v(" "),n("el-button",{attrs:{circle:"",icon:"el-icon-delete"},on:{click:function(n){return e.deleteAttemp(t)}}})]}}],null,!1,351185640)})],1):e._e(),e._v(" "),!e.loading&&e.count?n("el-pagination",{attrs:{layout:"prev, pager, next, jumper",background:"",total:e.count},on:{"current-change":e.handleCurrentChange}}):e._e()],1)}),[],!1,null,"46fe3200",null);t.default=component.exports}}]);